---
const {
  width = 240,
  height = 240,

  // Radius Size
  radius = 120,
  radiusX = radius,
  radiusY = radius,

  // Curve Handle Length
  curve,
  curveX,
  curveY,
} = Astro.props;

// c/r=0.55が基本の角丸に近いサイズ
const rx = parseInt(radiusX);
const ry = parseInt(radiusY);
const cx = parseInt(curveX || curve || radiusX || radius);
const cy = parseInt(curveY || curve || radiusY || radius);
// TODO: 1以下の数値が指定されていたら%として扱う。Cがだるい

const d = `
  M 0,${ry}
  C 0,${ry - cy} ${rx - cx},0 ${rx},0
  S ${width - rx - cx},0 ${width - rx},0
    ${width},${ry - cy} ${width},${ry}
    ${width},${height - ry - cy} ${width},${height - ry}
    ${width - rx + cx},${height} ${width - rx},${height}
    ${rx + cx},${height} ${rx},${height}
    0,${height - ry + cy} 0,${height - ry}
    0,${ry + cy} 0,${ry}
`;
---

<svg {width} {height} viewBox={`0 0 ${width} ${height}`}>
  <path {d}></path>
</svg>

<style>
  svg {
    fill: blue;
  }
</style>
